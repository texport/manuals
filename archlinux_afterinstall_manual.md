## ArchInstall после установки

В этой инструкции я бы хотел рассказать о том, что делать после установки ArchLinux + Gnome. Если вы хотите установить ArchLinux, то вот [ссылка на предыдущую инструкцию](https://mkdir-ivanov.gitbook.io/blog/manuals/archlinux-+-btrfs-s-shifrovaniem-+-gnome-instrukciya-po-ustanovke-2023). Для удобства процесс разделил на этапы.

### Этап 1. Подключение к интернету

После того как мы загрузились в операционную систему нам нужно подключить компьютер к интернету, я буду использовать беспроводное подключение Wi-Fi.

```Настройки -> Wi-Fi -> Выбрать беспроводную сеть -> Ввести пароль```

### Этап 2. Добавляем язык

Я оставил при установки английский язык, добавляем русский язык или любой другой

```Настройки -> Клавиатура -> + -> Русский -> Русская -> Добавить```

### Этап 3. Настройка пользователя

Мне не не нравится отображение имени моего пользователя и отсутствие фото профиля.

```Настройки -> Пользователи -> Изменить имя -> Изменить фото профиля```

### Этап 4. Настройка менеджера пакетов Pacman и Терминал

Если вы используете ArchLinux, то в этом дистрибутиве в любом случае придется работать с приложением терминал и менеджером пакетов pacman. Из коробки pacman черно-белый, давайте прокачаем его.

```sudo nano /etc/pacman.conf```

Этот параметр сделает вывод в консоль pacman цветным

ищем ```# Misc option``` и удаляем у параметра ```#Color -> удалить #```

Для того что бы pacman обрел правильный вид сразу после ```Color``` добавляем новый параметр ```ILoveCandy```. Теперь прогрессбар при скачивании пакетов будет выглядеть в виде пакмена:)

Теперь давайте нашему pacman дадим возможность параллельно скачивать пакеты

удаляем у параметра ```#ParallelDownloads = 5 -> удалить #```

Сохраняем изменения комбинация клавиш ```Ctrl+O``` сохранить, ```Ctrl+X``` закрыть утилиту nano.

Теперь давайте сделаем удобным наш терминал. Включим авто-дополнение команд в консоли, постоянно вводить полные команды мне не удобно. Для авто-дополнения используется клавиша ```Tab```

```sudo pacman -S bash-completion```

Перезапускам терминал, и для контроля давайте проверим обновления для операционной системы

```sudo pacman -Syu```

### Этап 5. AUR, pamac, yay

В ArchLinux я не использую магазин приложений Gnome, мне нравится скачивать и устанавливать приложения из мультимагазина. Я буду использовать AUR и Flatpak репозитории. 

AUR (Arch User Repository) - это официальный репозиторий пользовательских пакетов для Arch Linux. Этот репозиторий содержит пакеты, которые не включены в официальные репозитории Arch Linux, но могут быть собраны и установлены пользователем.

AUR предоставляет возможность создавать и поддерживать собственные пакеты, а также загружать и устанавливать пакеты, созданные другими пользователями. Пакеты в AUR могут быть установлены с помощью специальных утилит, таких как yay или trizen, которые автоматически загружают и собирают пакеты из AUR.

Flatpak - это система для управления и распространения приложений, которая позволяет установить приложение с его зависимостями и окружением в виде контейнера, который можно запускать на разных дистрибутивах Linux. Это означает, что приложения, упакованные в Flatpak, могут работать на любом дистрибутиве Linux, который поддерживает этот формат.

Кроме того, Flatpak обеспечивает безопасность и изоляцию приложений, что позволяет избежать конфликтов зависимостей и защитить систему от возможных угроз безопасности, связанных с установкой сторонних приложений.

Я буду использовать утилиту yay для работы с aur репозиторием из консоли, для загрузки и скачивания графической утилиты pamac-all в которой сразу есть все репозитории приложений aur, snap, flatpak, arch для комфортной работы.

Переходим в каталог загрузки

```cd Загрузки/```

Клонируем yay из репозитория(должна быть обязательно установлена утилита git)

```git clone https://aur.archlinux.org/yay.git```

Переходим в папку yay

```cd yay/```

Собираем и устанавливаем

```makepkg -si```

Теперь мы можем скачать и установить утилиту pamac-all

```yay -S pamac-all```

После того как закончится установка, появится в разделе приложения программа "Установка и удаление программ" открываем ее и настроим

```Настройки -> Продвинуты -> Включить откат версий -> Сторонние -> Включить поддержку AUR -> Проверять обновления -> Включить поддержку Flatpak -> Проверять обновления```

### Этап 6. Прошивки

Я всегда использую приложение "Прошивки" для того что бы держать прошивки моего устройства всегда в актуальном состоянии. 

Сначала нужно установить утилиту ```fwupd```

```Установка и удаление программ -> Ищем приложение "fwupd(community)" -> Установить```

После установки ```fwupd``` обязательно нужно перезагрузить компьютер.

Установим само приложение "Прошивки"

```Установка и удаление программ -> Ищем приложение "Прошивки(flathub)" -> Установить```

Открываем программу "Прошивка", смотрим актуальное ли состояние всех прошивок, если есть новые версии, обновляемся

### Этап 7. Логотип загрузчика

Каждый раз когда выключаю ноутбук или включаю я вижу текстовый процесс загрузки. Я хочу сделать так, что бы загрузка операционной системы обрела красивый вид.

Нам потребуется специальная утилита ```gdm-plymouth```
Plymouth - это утилита для отображения анимации загрузки при запуске операционной системы Linux.

Установим ```gdm-plymouth```

```Установка и удаление программ -> Ищем приложение "gdm-plymouth(AUR)" -> Установить```

Далее нам нужно отредактировать файл mkinitcpio.conf
mkinitcpio.conf - это конфигурационный файл который содержит модули ядра, необходимые для доступа к основным компонентам компьютера, таким как жесткие диски, сетевые устройства, USB-устройства, а также инструменты, необходимые для завершения загрузки системы.

```sudo nano /etc/mkinitcpio.conf``` в этом файле после udev нужно добавить ```plymouth``` а ```encrypt``` заменить на ```plymouth-encrypt```

Сохраняем изменения комбинация клавиш ```Ctrl+O``` сохранить, ```Ctrl+X``` закрыть утилиту nano.

Мне нравится тема monoarch, давайте ее установим

```Установка и удаление программ -> Ищем пакет "plymouth-theme-monoarch(AUR)" -> Установить```

Теперь включим эту тему, команду нужно выполнить в терминале

```sudo plymouth-set-default-theme -R monoarch```

Осталось настроить загрузчик и уровень логирования в нем. Как называется конфигурационный файл загрузчика

ls ```/boot/loadre/enties/```

Открываем конфигурационный файл загрузки

```sudo nano /boot/loadre/enties/(название вашего файла из вывода команды ls)```

Добавим в конфигурационный файл загрузчика следующие параметры после параметра ```options``` ```quiet splash loglevel=3 rd.udev.log_priority=3 vt.global_cursor_default=0```

Перезагружаем компьютер

### Этап 8. Установка и удаление ПО

Вначале я уберу из "дока" приложения которые я не использую и добавлю те, которые я использую. 

Открепляю ```Магазин приложений Gnome```, ```Музыка```, ```Веб-браузер```.

Закрепляю ```Pamac```, ```Настройки```, ```Калькулятор```.

Удалю ```Музыка```, ```Веб-браузер```, ```VIM```, ```Видео```, ```Карты```.

Я всегда отдаю предпочтения Flatpak приложениям. Какие приложения я устанавливаю и использую повседневно.

```Mozilla Firefox``` - это браузер с открытым исходным кодом, разработанный Фондом Mozilla. Он является одним из самых популярных браузеров в мире благодаря своей безопасности, скорости и многим полезным функциям.

```Atom``` - это бесплатный редактор кода с открытым исходным кодом. Он разработан командой GitHub и предназначен для разработки приложений и сайтов.

```LibreOffice``` - это бесплатный офисный пакет с открытым исходным кодом, который включает в себя текстовый редактор, электронные таблицы, программу для создания презентаций и многое другое. Он предназначен для использования как в домашней, так и в корпоративной среде.

Одной из главных особенностей LibreOffice является его совместимость с другими офисными пакетами. Он может открывать и сохранять документы в форматах Microsoft Office, что делает его удобным выбором для пользователей, которые работают с другими людьми, использующими Microsoft Office.

```Discord``` - бесплатный мессенджер с открытым исходным кодом, который предназначен для голосовых и текстовых чатов. Он позволяет пользователям общаться в реальном времени с другими людьми, создавать группы и каналы для общения и делиться файлами и изображениями.

```Менеджер расширений Gnome``` - это инструмент, который позволяет легко управлять расширениями для рабочего стола Gnome. Расширения - это небольшие программы, которые добавляют новые функции и улучшают работу рабочего стола., 

```Mailspring``` - это бесплатный почтовый клиент с открытым исходным кодом, который предназначен для работы с электронной почтой. Он имеет множество полезных функций, которые делают работу с почтой быстрой и удобной.

### Этап 9. Настройка окружения Gnome

В предыдущем этапе я установил приложение для управления плагинами Gnome ```Менеджер расширений Gnome```, сейчас будем настраивать дополнительные плагины для удобной работы.

```Vitals``` - этот плагин позволяет отслеживать состояние системы, включая температуру процессора, загрузку ЦП и использование памяти. Он имеет простой и интуитивно понятный пользовательский интерфейс, который позволяет легко отслеживать состояние системы и обнаруживать возможные проблемы.

```GSConnect``` - этот плагин позволяет синхронизировать устройства Android с рабочим столом Gnome. Он позволяет пользователям управлять устройством Android с рабочего стола Gnome, отправлять и принимать сообщения, управлять музыкой и многое другое.

```Caffeine``` - этот плагин предотвращает переход в режим сна или блокировки экрана при бездействии. Он полезен для тех, кто хочет сохранить активность своего рабочего стола даже при отсутствии активности пользователя.

### Этап 10. Авто-включение Bluetooth

После установки операционной системы у меня не реагирует меню на попытки включить Bluetooth. Для того что бы меню блютуз начало реагировать на мои действия я запустил службу Bluetooth из консоли

```sudo systemctl start bluetooth```

и добавил ее в автозагрузку

```sudo systemctl enable bluetooth```



